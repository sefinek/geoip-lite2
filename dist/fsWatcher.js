const{access:t,constants:e,watch:n}=require('fs'),{join:o}=require('path'),l={},u=t=>l[t].close();module.exports={makeFsWatchFilter:(c,r,s,i,a)=>{let f=null;function h(){f=null,a()}'function'==typeof i&&(a=i,i=s,s=null),l[c]&&u(c),l[c]=n(r,function(n,l){if(!l)return;const u=o(r,l);s&&s!==l||t(u,e.F_OK,t=>{if(t)return console.error(t);null!==f&&(clearTimeout(f),f=null),f=setTimeout(h,i)})})},stopWatching:u};