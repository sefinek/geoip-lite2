const{access:n,constants:t,watch:e}=require('fs'),{join:o}=require('path'),c={};function u(n){c[n].close()}exports.makeFsWatchFilter=function(l,r,i,s,f){let a=null;function p(){a=null,f()}'function'==typeof s&&(f=s,s=i,i=null),c[l]&&u(l),c[l]=e(r,(function(e,c){if(!c)return;const u=o(r,c);i&&i!==c||n(u,t.F_OK,(n=>{if(n)return console.error(n);null!==a&&(clearTimeout(a),a=null),a=setTimeout(p,s)}))}))},exports.stopWatching=u;