const n=require('node:fs'),e=require('node:path'),t={};function o(n){t[n].close()}module.exports.makeFsWatchFilter=function(u,l,c,r,i){let s=null;function f(){s=null,i()}'function'==typeof r&&(i=r,r=c,c=null),t[u]&&o(u),t[u]=n.watch(l,(function(t,o){if(!o)return;const u=e.join(l,o);c&&c!==o||n.access(u,n.constants.F_OK,(n=>{if(n)return console.error(n);null!==s&&(clearTimeout(s),s=null),s=setTimeout(f,r)}))}))},module.exports.stopWatching=o;