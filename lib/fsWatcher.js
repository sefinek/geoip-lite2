const n=require('node:fs'),t=require('node:path'),e={};function o(n){e[n].close()}module.exports.makeFsWatchFilter=function(u,l,i,c,s){let r=null;function f(){r=null,s()}'function'==typeof c&&(s=c,c=i,i=null),e[u]&&o(u),e[u]=n.watch(l,(function(e,o){if(!o)return;const u=t.join(l,o);i&&i!==o||n.exists(u,(function(n){n&&(null!==r&&(clearTimeout(r),r=null),r=setTimeout(f,c))}))}))},module.exports.stopWatching=o;