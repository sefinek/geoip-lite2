const{access:n,constants:t,watch:e}=require('fs'),{join:o}=require('path'),u={};function l(n){u[n].close()}module.exports.makeFsWatchFilter=function(c,r,i,s,f){let a=null;function m(){a=null,f()}'function'==typeof s&&(f=s,s=i,i=null),u[c]&&l(c),u[c]=e(r,(function(e,u){if(!u)return;const l=o(r,u);i&&i!==u||n(l,t.F_OK,(n=>{if(n)return console.error(n);null!==a&&(clearTimeout(a),a=null),a=setTimeout(m,s)}))}))},module.exports.stopWatching=l;